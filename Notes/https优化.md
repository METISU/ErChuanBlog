# HTTPS优化

近期处理了一些网络库的问题，发现有些储备的知识已经遗忘，有思路但是具体实现还得翻一些博客，这篇文章主要给自己做个备忘录功能，整理一下以前探究过的HTTPS相关的优化，如有更好的方案，可以一起探讨🥺

## DNS缓存

发起一个hppt请求，第一步要做的就是DNS解析（应用层方面），这时候计算机最常用的优化手段之一：缓存就派上用场了。

思路不难理解，重要的是使用过程中不出问题，几个关键事项：

* 缓存的有效期
* 缓存是否失效
* 缓存失效或者没有缓存的降级方案

任何东西最注重的是用户体验，我们添加缓存的目的是为了提升用户体验（响应速度更快），所以如果缓存出现问题导致用户访问不了，那比网络慢的体验还差，所以降级方案必须先考虑周全

大体流程上：

![DNS缓存](https://user-images.githubusercontent.com/22512175/148319012-80643741-fbc9-433b-a503-069e657e8cf8.png)
  
主要的关键点在于保证降级方案的正常实行，比如缓存过期了、失效等，具体的问题需要具体分析

## Cache-Control

这个不用过多描述了，只要注意的是一些界面不能使用缓存，比如秒杀界面，对于一些比较大的数据量要检查是否要更新缓存时，可以使用 **if-Modified-Since**、**If-None-Match** 字段，如果返回 **304 Not Modified**，则代表不需要更新缓存，节省流量以及时间

## SSL/TLS

TLS是什么就不过多叙述了，下面主要讲些TLS上面的优化

